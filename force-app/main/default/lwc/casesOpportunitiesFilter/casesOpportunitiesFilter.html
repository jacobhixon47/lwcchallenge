<template>
    <article title="Cases and Opportunities Filter" class="slds-card">

        <!-- header from SLDS https://www.lightningdesignsystem.com/components/cards/ and modified -->
        <div class="slds-card__header slds-grid">
            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                <div class="slds-media__figure">
                <span class="slds-icon_container slds-icon-standard-account" title="accounts filter">
                    <lightning-icon icon-name="standard:shipment" alternative-text="Account Filter Icon" title="Account Filter Icon"></lightning-icon>
                    <span class="slds-assistive-text">accounts filter</span>
                </span>
                </div>
                <div class="slds-media__body">
                    <h2 class="slds-card__header-title">
                        <span>Accounts Filter</span>
                    </h2>
                    <!-- <template if:true={accounts}>
                        <h4>
                            Matching Accounts: <span>{rowCount}</span>
                        </h4>
                    </template> -->
                </div>
            </header>
        </div>

        <!-- comboboxes -->
        <div class="slds-grid slds-gutters slds-wrap slds-card__body slds-card__body_inner">
            <div class="slds-col slds-size_1-of-2">
                <lightning-combobox
                    label="Case Status"
                    value={caseStatus}
                    options={caseStatuses}
                    onchange={handleStatusChange}
                    placeholder="Choose a status...">
                </lightning-combobox>
            </div>
            <div class="slds-col slds-size_1-of-2">
                <lightning-combobox
                    label="Opportunity Stage"
                    value={opportunityStage}
                    options={opportunityStages}
                    onchange={handleStageChange}
                    placeholder="Choose a stage...">
                </lightning-combobox>
            </div>

            <!-- Accounts datatable -->
            <template if:true={accounts}>
                <div class="slds-col slds-size_1-of-2 slds-p-top--small slds-p-bottom--small">
                    <h4>
                        <i>Matching accounts: <span>{rowCount}</span></i>
                    </h4>
                </div>
                <div class="slds-col slds-size_2-of-2">
                    <lightning-datatable
                        key-field="Id"
                        data={accounts}
                        columns={columns}
                        sorted-by={sortBy}
                        sorted-direction={sortDirection}
                        onsort={doSorting}
                        hide-checkbox-column="true">
                    </lightning-datatable>
                </div>
            </template>
        </div>

    </article>
</template>